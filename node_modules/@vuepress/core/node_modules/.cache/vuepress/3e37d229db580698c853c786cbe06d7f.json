{"remainingRequest":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/vue-loader/lib/index.js??ref--1-1!/Users/cassie/Desktop/work2/person/zh_doc/node_modules/@vuepress/markdown-loader/index.js??ref--1-2!/Users/cassie/Desktop/work2/person/zh_doc/docs/VUE/ElementUI/A002.md?vue&type=template&id=82e32624&","dependencies":[{"path":"/Users/cassie/Desktop/work2/person/zh_doc/docs/VUE/ElementUI/A002.md","mtime":1574307457652},{"path":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/@vuepress/markdown-loader/index.js","mtime":1546968779000}],"contextDependencies":[],"result":["\n<ContentSlotsDistributor :slot-key=\"$parent.slotKey\"><h1 id=\"a001-elementui-源码解析-eltree\"><a class=\"header-anchor\" href=\"#a001-elementui-源码解析-eltree\" aria-hidden=\"true\">#</a> A001_ElementUI 源码解析---ElTree</h1>\n<p>分为两个部分：</p>\n<p>vm层：tree.vue/tree-node.vue</p>\n<p>model层：node.js/tree-store.js/util.js</p>\n<p>核心--vm层：</p>\n<p>1.tree.vue：树节点，控件主要表现及入口配置</p>\n<p>2、tree-node.vue：单个树节点（递归组件/事件传值/broadcast）</p>\n<p>核心--model层：</p>\n<p>1.node.js：数节点的封装，包括基本属性/行为（class的封装）</p>\n<p>2.tree-store</p>\n<h2 id=\"重要逻辑实现\"><a class=\"header-anchor\" href=\"#重要逻辑实现\" aria-hidden=\"true\">#</a> 重要逻辑实现</h2>\n<p>1.点击树节点，判断expend的展开--node基本属性expended控制，tree-node监听</p>\n<p>2.model层保持绝对干净，只拥有自己的属性/行为;elementui tree中，node 封装了expended/check/parent/children的基本属性，和，设置数据（setData）/insertChild（插入子节点）等基本行为。tree-node主要封装树节点层的组件，其单个节点的控制行为在model层中</p>\n<p>3.逻辑清晰，递归组件传递事件（broadcast--如判断单个展开）</p>\n<h2 id=\"核心代码-这里贴的是自己模仿elementui写的demo\"><a class=\"header-anchor\" href=\"#核心代码-这里贴的是自己模仿elementui写的demo\" aria-hidden=\"true\">#</a> 核心代码--这里贴的是自己模仿elementUI写的demo</h2>\n<p>tree.vue</p>\n<!--beforebegin--><div class=\"language-bash line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div class<span class=\"token operator\">=</span><span class=\"token string\">\"vTree\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>v-tree-node :key<span class=\"token operator\">=</span><span class=\"token string\">\"getNodeKey(child)\"</span> v-for<span class=\"token operator\">=</span><span class=\"token string\">\"child in root.childNodes\"</span> :node<span class=\"token operator\">=</span><span class=\"token string\">\"child\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>/v-tree-node<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>/div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>/template<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n    <span class=\"token function\">import</span> TreeStore from <span class=\"token string\">'./model/tree-store'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">import</span> vTreeNode from <span class=\"token string\">'@/components/tree/treeNode'</span>\n    <span class=\"token function\">import</span> <span class=\"token punctuation\">{</span> getNodeKey, findNearestComponent <span class=\"token punctuation\">}</span> from <span class=\"token string\">'./model/util'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">export</span> default <span class=\"token punctuation\">{</span>\n        name: <span class=\"token string\">'vTree'</span>,\n        componentName: <span class=\"token string\">'vTree'</span>,\n        props: <span class=\"token punctuation\">{</span>\n            data: <span class=\"token punctuation\">{</span>\n                type: Array\n            <span class=\"token punctuation\">}</span>,\n            emptyText: <span class=\"token punctuation\">{</span>\n                type: String,\n                default<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n               // <span class=\"token keyword\">return</span> t<span class=\"token punctuation\">(</span><span class=\"token string\">'el.tree.emptyText'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            renderAfterExpand: <span class=\"token punctuation\">{</span>\n                type: Boolean,\n                default: <span class=\"token boolean\">true</span>\n            <span class=\"token punctuation\">}</span>,\n            nodeKey: String,\n            checkStrictly: Boolean,\n            defaultExpandAll: Boolean,\n            //节点可点击\n            expandOnClickNode: <span class=\"token punctuation\">{</span>\n                type: Boolean,\n                default: <span class=\"token boolean\">true</span>\n            <span class=\"token punctuation\">}</span>,\n            checkOnClickNode: Boolean,\n            checkDescendants: <span class=\"token punctuation\">{</span>\n                type: Boolean,\n                default: <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span>,\n            autoExpandParent: <span class=\"token punctuation\">{</span>\n                type: Boolean,\n                default: <span class=\"token boolean\">true</span>\n            <span class=\"token punctuation\">}</span>,\n            defaultCheckedKeys: Array,\n            defaultExpandedKeys: Array,\n            currentNodeKey: <span class=\"token punctuation\">[</span>String, Number<span class=\"token punctuation\">]</span>,\n            renderContent: Function,\n            showCheckbox: <span class=\"token punctuation\">{</span>\n                type: Boolean,\n                default: <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span>,\n            draggable: <span class=\"token punctuation\">{</span>\n                type: Boolean,\n                default: <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span>,\n            allowDrag: Function,\n            allowDrop: Function,\n            props: <span class=\"token punctuation\">{</span>\n                default<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n                    children: <span class=\"token string\">'children'</span>,\n                    label: <span class=\"token string\">'label'</span>,\n                    disabled: <span class=\"token string\">'disabled'</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            lazy: <span class=\"token punctuation\">{</span>\n                type: Boolean,\n                default: <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span>,\n            highlightCurrent: Boolean,\n            load: Function,\n            filterNodeMethod: Function,\n            accordion: Boolean,\n            indent: <span class=\"token punctuation\">{</span>\n                type: Number,\n                default: 18\n            <span class=\"token punctuation\">}</span>,\n            iconClass: String\n        <span class=\"token punctuation\">}</span>,\n        data<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n                isTree: false,\n                store: <span class=\"token string\">''</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        created<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            this.isTree <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n\n            this.store <span class=\"token operator\">=</span> new TreeStore<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n                key: this.nodeKey,\n                data: this.data,\n                lazy: this.lazy,\n                props: this.props,\n                load: this.load,\n                currentNodeKey: this.currentNodeKey,\n                checkStrictly: this.checkStrictly,\n                checkDescendants: this.checkDescendants,\n                defaultCheckedKeys: this.defaultCheckedKeys,\n                defaultExpandedKeys: this.defaultExpandedKeys,\n                autoExpandParent: this.autoExpandParent,\n                defaultExpandAll: this.defaultExpandAll,\n                filterNodeMethod: this.filterNodeMethod\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            this.root <span class=\"token operator\">=</span> this.store.root<span class=\"token punctuation\">;</span>\n            console.log<span class=\"token punctuation\">(</span><span class=\"token string\">'tree~~~root'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            console.log<span class=\"token punctuation\">(</span>this.root<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>,\n        methods: <span class=\"token punctuation\">{</span>\n            getNodeKey<span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> getNodeKey<span class=\"token punctuation\">(</span>this.nodeKey, node.data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>,\n        <span class=\"token punctuation\">}</span>,\n        components: <span class=\"token punctuation\">{</span>\n            vTreeNode\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span>\n\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br><span class=\"line-number\">17</span><br><span class=\"line-number\">18</span><br><span class=\"line-number\">19</span><br><span class=\"line-number\">20</span><br><span class=\"line-number\">21</span><br><span class=\"line-number\">22</span><br><span class=\"line-number\">23</span><br><span class=\"line-number\">24</span><br><span class=\"line-number\">25</span><br><span class=\"line-number\">26</span><br><span class=\"line-number\">27</span><br><span class=\"line-number\">28</span><br><span class=\"line-number\">29</span><br><span class=\"line-number\">30</span><br><span class=\"line-number\">31</span><br><span class=\"line-number\">32</span><br><span class=\"line-number\">33</span><br><span class=\"line-number\">34</span><br><span class=\"line-number\">35</span><br><span class=\"line-number\">36</span><br><span class=\"line-number\">37</span><br><span class=\"line-number\">38</span><br><span class=\"line-number\">39</span><br><span class=\"line-number\">40</span><br><span class=\"line-number\">41</span><br><span class=\"line-number\">42</span><br><span class=\"line-number\">43</span><br><span class=\"line-number\">44</span><br><span class=\"line-number\">45</span><br><span class=\"line-number\">46</span><br><span class=\"line-number\">47</span><br><span class=\"line-number\">48</span><br><span class=\"line-number\">49</span><br><span class=\"line-number\">50</span><br><span class=\"line-number\">51</span><br><span class=\"line-number\">52</span><br><span class=\"line-number\">53</span><br><span class=\"line-number\">54</span><br><span class=\"line-number\">55</span><br><span class=\"line-number\">56</span><br><span class=\"line-number\">57</span><br><span class=\"line-number\">58</span><br><span class=\"line-number\">59</span><br><span class=\"line-number\">60</span><br><span class=\"line-number\">61</span><br><span class=\"line-number\">62</span><br><span class=\"line-number\">63</span><br><span class=\"line-number\">64</span><br><span class=\"line-number\">65</span><br><span class=\"line-number\">66</span><br><span class=\"line-number\">67</span><br><span class=\"line-number\">68</span><br><span class=\"line-number\">69</span><br><span class=\"line-number\">70</span><br><span class=\"line-number\">71</span><br><span class=\"line-number\">72</span><br><span class=\"line-number\">73</span><br><span class=\"line-number\">74</span><br><span class=\"line-number\">75</span><br><span class=\"line-number\">76</span><br><span class=\"line-number\">77</span><br><span class=\"line-number\">78</span><br><span class=\"line-number\">79</span><br><span class=\"line-number\">80</span><br><span class=\"line-number\">81</span><br><span class=\"line-number\">82</span><br><span class=\"line-number\">83</span><br><span class=\"line-number\">84</span><br><span class=\"line-number\">85</span><br><span class=\"line-number\">86</span><br><span class=\"line-number\">87</span><br><span class=\"line-number\">88</span><br><span class=\"line-number\">89</span><br><span class=\"line-number\">90</span><br><span class=\"line-number\">91</span><br><span class=\"line-number\">92</span><br><span class=\"line-number\">93</span><br><span class=\"line-number\">94</span><br><span class=\"line-number\">95</span><br><span class=\"line-number\">96</span><br><span class=\"line-number\">97</span><br><span class=\"line-number\">98</span><br><span class=\"line-number\">99</span><br><span class=\"line-number\">100</span><br><span class=\"line-number\">101</span><br><span class=\"line-number\">102</span><br><span class=\"line-number\">103</span><br><span class=\"line-number\">104</span><br><span class=\"line-number\">105</span><br><span class=\"line-number\">106</span><br><span class=\"line-number\">107</span><br><span class=\"line-number\">108</span><br><span class=\"line-number\">109</span><br><span class=\"line-number\">110</span><br><span class=\"line-number\">111</span><br><span class=\"line-number\">112</span><br><span class=\"line-number\">113</span><br><span class=\"line-number\">114</span><br><span class=\"line-number\">115</span><br><span class=\"line-number\">116</span><br><span class=\"line-number\">117</span><br><span class=\"line-number\">118</span><br><span class=\"line-number\">119</span><br><span class=\"line-number\">120</span><br><span class=\"line-number\">121</span><br></div><!--beforeend--></div><!--afterend--><p>tree-node.vue</p>\n<!--beforebegin--><div class=\"language-bash line-numbers-mode\"><!--afterbegin--><pre v-pre class=\"language-bash\"><code><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>div class<span class=\"token operator\">=</span><span class=\"token string\">\"v-tree-node\"</span> role<span class=\"token operator\">=</span><span class=\"token string\">\"treeitem\"</span> @click.stop<span class=\"token operator\">=</span><span class=\"token string\">\"handleClick\"</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>input type<span class=\"token operator\">=</span><span class=\"token string\">\"checkbox\"</span> v-model<span class=\"token operator\">=</span><span class=\"token string\">\"node.checked\"</span> @click.stop<span class=\"token operator\">=</span><span class=\"token string\">\"handleClickCheckbox\"</span> /<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>node.data.label<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>expanded<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span>--递归组件--<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>div class<span class=\"token operator\">=</span><span class=\"token string\">\"v-tree-node-child\"</span> v-show<span class=\"token operator\">=</span><span class=\"token string\">\"expanded\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>v-tree-node \n                :key<span class=\"token operator\">=</span><span class=\"token string\">\"getNodeKey(child)\"</span>\n                @node-expand<span class=\"token operator\">=</span><span class=\"token string\">\"handleChildNodeExpand\"</span> \n                v-for<span class=\"token operator\">=</span><span class=\"token string\">\"child in node.childNodes\"</span> \n                :node<span class=\"token operator\">=</span><span class=\"token string\">\"child\"</span><span class=\"token operator\">></span><span class=\"token operator\">&lt;</span>/v-tree-node<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>/div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>/div<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span>/template<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>script<span class=\"token operator\">></span>\n    <span class=\"token function\">import</span> vTreeNode from <span class=\"token string\">'@/components/tree/treeNode'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">import</span> <span class=\"token punctuation\">{</span> getNodeKey <span class=\"token punctuation\">}</span> from <span class=\"token string\">'./model/util'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">import</span> Emitter from <span class=\"token string\">'@/mixins/emitter'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">export</span> default <span class=\"token punctuation\">{</span>\n        name: <span class=\"token string\">'vTreeNode'</span>,\n        componentName: <span class=\"token string\">'vTreeNode'</span>,\n        mixins: <span class=\"token punctuation\">[</span>Emitter<span class=\"token punctuation\">]</span>,\n        props: <span class=\"token punctuation\">{</span>\n            node: <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        data<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span>\n                expanded: false,  //控制子节点展开收缩\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        created<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n           // 查找第一个父组件vTree\n           const parent <span class=\"token operator\">=</span> this.<span class=\"token variable\">$parent</span><span class=\"token punctuation\">;</span>\n           <span class=\"token keyword\">let</span> self <span class=\"token operator\">=</span> this<span class=\"token punctuation\">;</span>\n           if<span class=\"token punctuation\">(</span>parent.isTree<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n               this.tree <span class=\"token operator\">=</span> parent<span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">}</span>else <span class=\"token punctuation\">{</span>\n               this.tree <span class=\"token operator\">=</span> parent.tree<span class=\"token punctuation\">;</span>\n           <span class=\"token punctuation\">}</span> \n\n           //监听子节点展开事件\n           if<span class=\"token punctuation\">(</span>this.tree.accordion<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n               this.<span class=\"token variable\">$on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tree-node-expand'</span>, function<span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                   if<span class=\"token punctuation\">(</span>self.node <span class=\"token operator\">!=</span> node<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                       self.node.collapse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                   <span class=\"token punctuation\">}</span>\n               <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n           <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        watch: <span class=\"token punctuation\">{</span>\n            <span class=\"token string\">'node.expanded'</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                this.<span class=\"token variable\">$nextTick</span><span class=\"token punctuation\">((</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n                    this.expanded <span class=\"token operator\">=</span> val<span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        methods: <span class=\"token punctuation\">{</span>\n            getNodeKey<span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> getNodeKey<span class=\"token punctuation\">(</span>this.tree.nodeKey, node.data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>,\n            //点击节点\n            handleClick<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                const store <span class=\"token operator\">=</span> this.tree.store<span class=\"token punctuation\">;</span>\n                store.setCurrentNode<span class=\"token punctuation\">(</span>this.node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                this.tree.<span class=\"token variable\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'current-change'</span>, store.currentNode ? store.currentNode.data <span class=\"token keyword\">:</span> null, store.currentNode<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                this.tree.currentNode <span class=\"token operator\">=</span> this<span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>this.tree.expandOnClickNode<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    this.handleExpandIconClick<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            //\n            handleExpandIconClick<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                if<span class=\"token punctuation\">(</span>this.node.isLeaf<span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n                if<span class=\"token punctuation\">(</span>this.expanded<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    //收缩\n                    this.node.collapse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>else <span class=\"token punctuation\">{</span>\n                    //展开\n                    this.node.expand<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    //触发父组件的自定义事件展开\n                    this.<span class=\"token variable\">$emit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node-expand'</span>, this.node.data, this.node, this<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>,\n            handleChildNodeExpand<span class=\"token punctuation\">(</span>nodeData, node, instance<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                //给子组件传递广播事件\n                this.broadcast<span class=\"token punctuation\">(</span><span class=\"token string\">'vTreeNode'</span>, <span class=\"token string\">'tree-node-expand'</span>, node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>,\n            //checkbox点击事件\n            handleClickCheckbox<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>,\n        components: <span class=\"token punctuation\">{</span>\n            vTreeNode\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span>/script<span class=\"token operator\">></span>\n\n<span class=\"token operator\">&lt;</span>style lang<span class=\"token operator\">=</span><span class=\"token string\">\"less\"</span><span class=\"token operator\">></span>\n    .v-tree-node <span class=\"token punctuation\">{</span>\n        margin-left: 20px<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token operator\">&lt;</span>/style<span class=\"token operator\">></span>\n</code></pre>\n<div class=\"line-numbers-wrapper\"><span class=\"line-number\">1</span><br><span class=\"line-number\">2</span><br><span class=\"line-number\">3</span><br><span class=\"line-number\">4</span><br><span class=\"line-number\">5</span><br><span class=\"line-number\">6</span><br><span class=\"line-number\">7</span><br><span class=\"line-number\">8</span><br><span class=\"line-number\">9</span><br><span class=\"line-number\">10</span><br><span class=\"line-number\">11</span><br><span class=\"line-number\">12</span><br><span class=\"line-number\">13</span><br><span class=\"line-number\">14</span><br><span class=\"line-number\">15</span><br><span class=\"line-number\">16</span><br><span class=\"line-number\">17</span><br><span class=\"line-number\">18</span><br><span class=\"line-number\">19</span><br><span class=\"line-number\">20</span><br><span class=\"line-number\">21</span><br><span class=\"line-number\">22</span><br><span class=\"line-number\">23</span><br><span class=\"line-number\">24</span><br><span class=\"line-number\">25</span><br><span class=\"line-number\">26</span><br><span class=\"line-number\">27</span><br><span class=\"line-number\">28</span><br><span class=\"line-number\">29</span><br><span class=\"line-number\">30</span><br><span class=\"line-number\">31</span><br><span class=\"line-number\">32</span><br><span class=\"line-number\">33</span><br><span class=\"line-number\">34</span><br><span class=\"line-number\">35</span><br><span class=\"line-number\">36</span><br><span class=\"line-number\">37</span><br><span class=\"line-number\">38</span><br><span class=\"line-number\">39</span><br><span class=\"line-number\">40</span><br><span class=\"line-number\">41</span><br><span class=\"line-number\">42</span><br><span class=\"line-number\">43</span><br><span class=\"line-number\">44</span><br><span class=\"line-number\">45</span><br><span class=\"line-number\">46</span><br><span class=\"line-number\">47</span><br><span class=\"line-number\">48</span><br><span class=\"line-number\">49</span><br><span class=\"line-number\">50</span><br><span class=\"line-number\">51</span><br><span class=\"line-number\">52</span><br><span class=\"line-number\">53</span><br><span class=\"line-number\">54</span><br><span class=\"line-number\">55</span><br><span class=\"line-number\">56</span><br><span class=\"line-number\">57</span><br><span class=\"line-number\">58</span><br><span class=\"line-number\">59</span><br><span class=\"line-number\">60</span><br><span class=\"line-number\">61</span><br><span class=\"line-number\">62</span><br><span class=\"line-number\">63</span><br><span class=\"line-number\">64</span><br><span class=\"line-number\">65</span><br><span class=\"line-number\">66</span><br><span class=\"line-number\">67</span><br><span class=\"line-number\">68</span><br><span class=\"line-number\">69</span><br><span class=\"line-number\">70</span><br><span class=\"line-number\">71</span><br><span class=\"line-number\">72</span><br><span class=\"line-number\">73</span><br><span class=\"line-number\">74</span><br><span class=\"line-number\">75</span><br><span class=\"line-number\">76</span><br><span class=\"line-number\">77</span><br><span class=\"line-number\">78</span><br><span class=\"line-number\">79</span><br><span class=\"line-number\">80</span><br><span class=\"line-number\">81</span><br><span class=\"line-number\">82</span><br><span class=\"line-number\">83</span><br><span class=\"line-number\">84</span><br><span class=\"line-number\">85</span><br><span class=\"line-number\">86</span><br><span class=\"line-number\">87</span><br><span class=\"line-number\">88</span><br><span class=\"line-number\">89</span><br><span class=\"line-number\">90</span><br><span class=\"line-number\">91</span><br><span class=\"line-number\">92</span><br><span class=\"line-number\">93</span><br><span class=\"line-number\">94</span><br><span class=\"line-number\">95</span><br><span class=\"line-number\">96</span><br><span class=\"line-number\">97</span><br><span class=\"line-number\">98</span><br><span class=\"line-number\">99</span><br><span class=\"line-number\">100</span><br><span class=\"line-number\">101</span><br><span class=\"line-number\">102</span><br><span class=\"line-number\">103</span><br><span class=\"line-number\">104</span><br></div><!--beforeend--></div><!--afterend--></ContentSlotsDistributor>\n",null]}