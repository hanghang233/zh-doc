{"remainingRequest":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/cassie/Desktop/work2/person/zh_doc/docs/.vuepress/theme/util/index.js","dependencies":[{"path":"/Users/cassie/Desktop/work2/person/zh_doc/docs/.vuepress/theme/util/index.js","mtime":1556639674000},{"path":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.index-of\";\nimport _Array$isArray from \"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/@babel/runtime-corejs2/core-js/array/is-array\";\nimport \"core-js/modules/es6.array.filter\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/es6.regexp.split\";\nimport _Object$assign from \"/Users/cassie/Desktop/work2/person/zh_doc/node_modules/@babel/runtime-corejs2/core-js/object/assign\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.replace\";\nexport var hashRE = /#.*$/;\nexport var extRE = /\\.(md|html)$/;\nexport var endingSlashRE = /\\/$/;\nexport var outboundRE = /^(https?:|mailto:|tel:)/;\nexport function normalize(path) {\n  return decodeURI(path).replace(hashRE, '').replace(extRE, '');\n}\nexport function getHash(path) {\n  var match = path.match(hashRE);\n\n  if (match) {\n    return match[0];\n  }\n}\nexport function isExternal(path) {\n  return outboundRE.test(path);\n}\nexport function isMailto(path) {\n  return /^mailto:/.test(path);\n}\nexport function isTel(path) {\n  return /^tel:/.test(path);\n}\nexport function ensureExt(path) {\n  if (isExternal(path)) {\n    return path;\n  }\n\n  var hashMatch = path.match(hashRE);\n  var hash = hashMatch ? hashMatch[0] : '';\n  var normalized = normalize(path);\n\n  if (endingSlashRE.test(normalized)) {\n    return path;\n  }\n\n  return normalized + '.html' + hash;\n}\nexport function isActive(route, path) {\n  var routeHash = route.hash;\n  var linkHash = getHash(path);\n\n  if (linkHash && routeHash !== linkHash) {\n    return false;\n  }\n\n  var routePath = normalize(route.path);\n  var pagePath = normalize(path);\n  return routePath === pagePath;\n}\nexport function resolvePage(pages, rawPath, base) {\n  if (base) {\n    rawPath = resolvePath(rawPath, base);\n  }\n\n  var path = normalize(rawPath);\n\n  if (path in pages) {\n    return _Object$assign({}, pages[path], {\n      type: 'page',\n      path: ensureExt(pages[path].path)\n    });\n  }\n\n  console.error(\"[vuepress] No matching page found for sidebar item \\\"\".concat(rawPath, \"\\\"\"));\n  return {};\n}\n\nfunction resolvePath(relative, base, append) {\n  var firstChar = relative.charAt(0);\n\n  if (firstChar === '/') {\n    return relative;\n  }\n\n  if (firstChar === '?' || firstChar === '#') {\n    return base + relative;\n  }\n\n  var stack = base.split('/'); // remove trailing segment if:\n  // - not appending\n  // - appending to trailing slash (last segment is empty)\n\n  if (!append || !stack[stack.length - 1]) {\n    stack.pop();\n  } // resolve relative path\n\n\n  var segments = relative.replace(/^\\//, '').split('/');\n\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n\n    if (segment === '..') {\n      stack.pop();\n    } else if (segment !== '.') {\n      stack.push(segment);\n    }\n  } // ensure leading slash\n\n\n  if (stack[0] !== '') {\n    stack.unshift('');\n  }\n\n  return stack.join('/');\n}\n/**\n * @param { Page } page\n * @param { string } regularPath\n * @param { SiteData } site\n * @param { string } localePath\n * @returns { SidebarGroup }\n */\n\n\nexport function resolveSidebarItems(page, regularPath, site, localePath) {\n  var pages = site.pages,\n      themeConfig = site.themeConfig;\n  var localeConfig = localePath && themeConfig.locales ? themeConfig.locales[localePath] || themeConfig : themeConfig;\n  var pageSidebarConfig = page.frontmatter.sidebar || localeConfig.sidebar || themeConfig.sidebar;\n\n  if (pageSidebarConfig === 'auto') {\n    return resolveHeaders(page);\n  }\n\n  var sidebarConfig = localeConfig.sidebar || themeConfig.sidebar;\n  var normalizedPagesMap = pages.reduce(function (map, page) {\n    map[normalize(page.regularPath)] = page;\n    return map;\n  }, {});\n\n  if (!sidebarConfig) {\n    return [];\n  } else {\n    var _resolveMatchingConfi = resolveMatchingConfig(regularPath, sidebarConfig),\n        base = _resolveMatchingConfi.base,\n        config = _resolveMatchingConfi.config;\n\n    return config ? config.map(function (item) {\n      return resolveItem(item, normalizedPagesMap, base);\n    }) : [];\n  }\n}\n/**\n * @param { Page } page\n * @returns { SidebarGroup }\n */\n\nfunction resolveHeaders(page) {\n  var headers = groupHeaders(page.headers || []);\n  return [{\n    type: 'group',\n    collapsable: false,\n    title: page.title,\n    children: headers.map(function (h) {\n      return {\n        type: 'auto',\n        title: h.title,\n        basePath: page.path,\n        path: page.path + '#' + h.slug,\n        children: h.children || []\n      };\n    })\n  }];\n}\n\nexport function groupHeaders(headers) {\n  // group h3s under h2\n  headers = headers.map(function (h) {\n    return _Object$assign({}, h);\n  });\n  var lastH2;\n  headers.forEach(function (h) {\n    if (h.level === 2) {\n      lastH2 = h;\n    } else if (lastH2) {\n      (lastH2.children || (lastH2.children = [])).push(h);\n    }\n  });\n  return headers.filter(function (h) {\n    return h.level === 2;\n  });\n}\nexport function resolveNavLinkItem(linkItem) {\n  return _Object$assign(linkItem, {\n    type: linkItem.items && linkItem.items.length ? 'links' : 'link'\n  });\n}\n/**\n * @param { Route } route\n * @param { Array<string|string[]> | Array<SidebarGroup> | [link: string]: SidebarConfig } config\n * @returns { base: string, config: SidebarConfig }\n */\n\nexport function resolveMatchingConfig(regularPath, config) {\n  if (_Array$isArray(config)) {\n    return {\n      base: '/',\n      config: config\n    };\n  }\n\n  for (var base in config) {\n    if (ensureEndingSlash(regularPath).indexOf(base) === 0) {\n      return {\n        base: base,\n        config: config[base]\n      };\n    }\n  }\n\n  return {};\n}\n\nfunction ensureEndingSlash(path) {\n  return /(\\.html|\\/)$/.test(path) ? path : path + '/';\n}\n\nfunction resolveItem(item, pages, base, isNested) {\n  if (typeof item === 'string') {\n    return resolvePage(pages, item, base);\n  } else if (_Array$isArray(item)) {\n    return _Object$assign(resolvePage(pages, item[0], base), {\n      title: item[1]\n    });\n  } else {\n    if (isNested) {\n      console.error('[vuepress] Nested sidebar groups are not supported. ' + 'Consider using navbar + categories instead.');\n    }\n\n    var children = item.children || [];\n    return {\n      type: 'group',\n      title: item.title,\n      children: children.map(function (child) {\n        return resolveItem(child, pages, base, true);\n      }),\n      collapsable: item.collapsable !== false\n    };\n  }\n}",{"version":3,"sources":["/Users/cassie/Desktop/work2/person/zh_doc/docs/.vuepress/theme/util/index.js"],"names":["hashRE","extRE","endingSlashRE","outboundRE","normalize","path","decodeURI","replace","getHash","match","isExternal","test","isMailto","isTel","ensureExt","hashMatch","hash","normalized","isActive","route","routeHash","linkHash","routePath","pagePath","resolvePage","pages","rawPath","base","resolvePath","type","console","error","relative","append","firstChar","charAt","stack","split","length","pop","segments","i","segment","push","unshift","join","resolveSidebarItems","page","regularPath","site","localePath","themeConfig","localeConfig","locales","pageSidebarConfig","frontmatter","sidebar","resolveHeaders","sidebarConfig","normalizedPagesMap","reduce","map","resolveMatchingConfig","config","item","resolveItem","headers","groupHeaders","collapsable","title","children","h","basePath","slug","lastH2","forEach","level","filter","resolveNavLinkItem","linkItem","items","ensureEndingSlash","indexOf","isNested","child"],"mappings":"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","sourcesContent":["export const hashRE = /#.*$/\nexport const extRE = /\\.(md|html)$/\nexport const endingSlashRE = /\\/$/\nexport const outboundRE = /^(https?:|mailto:|tel:)/\n\nexport function normalize (path) {\n  return decodeURI(path)\n    .replace(hashRE, '')\n    .replace(extRE, '')\n}\n\nexport function getHash (path) {\n  const match = path.match(hashRE)\n  if (match) {\n    return match[0]\n  }\n}\n\nexport function isExternal (path) {\n  return outboundRE.test(path)\n}\n\nexport function isMailto (path) {\n  return /^mailto:/.test(path)\n}\n\nexport function isTel (path) {\n  return /^tel:/.test(path)\n}\n\nexport function ensureExt (path) {\n  if (isExternal(path)) {\n    return path\n  }\n  const hashMatch = path.match(hashRE)\n  const hash = hashMatch ? hashMatch[0] : ''\n  const normalized = normalize(path)\n\n  if (endingSlashRE.test(normalized)) {\n    return path\n  }\n  return normalized + '.html' + hash\n}\n\nexport function isActive (route, path) {\n  const routeHash = route.hash\n  const linkHash = getHash(path)\n  if (linkHash && routeHash !== linkHash) {\n    return false\n  }\n  const routePath = normalize(route.path)\n  const pagePath = normalize(path)\n  return routePath === pagePath\n}\n\nexport function resolvePage (pages, rawPath, base) {\n  if (base) {\n    rawPath = resolvePath(rawPath, base)\n  }\n  const path = normalize(rawPath)\n  if (path in pages) {\n    return Object.assign({}, pages[path], {\n      type: 'page',\n      path: ensureExt(pages[path].path)\n    })\n  }\n  console.error(`[vuepress] No matching page found for sidebar item \"${rawPath}\"`)\n  return {}\n}\n\nfunction resolvePath (relative, base, append) {\n  const firstChar = relative.charAt(0)\n  if (firstChar === '/') {\n    return relative\n  }\n\n  if (firstChar === '?' || firstChar === '#') {\n    return base + relative\n  }\n\n  const stack = base.split('/')\n\n  // remove trailing segment if:\n  // - not appending\n  // - appending to trailing slash (last segment is empty)\n  if (!append || !stack[stack.length - 1]) {\n    stack.pop()\n  }\n\n  // resolve relative path\n  const segments = relative.replace(/^\\//, '').split('/')\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i]\n    if (segment === '..') {\n      stack.pop()\n    } else if (segment !== '.') {\n      stack.push(segment)\n    }\n  }\n\n  // ensure leading slash\n  if (stack[0] !== '') {\n    stack.unshift('')\n  }\n\n  return stack.join('/')\n}\n\n/**\n * @param { Page } page\n * @param { string } regularPath\n * @param { SiteData } site\n * @param { string } localePath\n * @returns { SidebarGroup }\n */\nexport function resolveSidebarItems (page, regularPath, site, localePath) {\n  const { pages, themeConfig } = site\n\n  const localeConfig = localePath && themeConfig.locales\n    ? themeConfig.locales[localePath] || themeConfig\n    : themeConfig\n\n  const pageSidebarConfig = page.frontmatter.sidebar || localeConfig.sidebar || themeConfig.sidebar\n  if (pageSidebarConfig === 'auto') {\n    return resolveHeaders(page)\n  }\n\n  const sidebarConfig = localeConfig.sidebar || themeConfig.sidebar\n  const normalizedPagesMap = pages.reduce((map, page) => {\n    map[normalize(page.regularPath)] = page\n    return map\n  }, {})\n  if (!sidebarConfig) {\n    return []\n  } else {\n    const { base, config } = resolveMatchingConfig(regularPath, sidebarConfig)\n    return config\n      ? config.map(item => resolveItem(item, normalizedPagesMap, base))\n      : []\n  }\n}\n\n/**\n * @param { Page } page\n * @returns { SidebarGroup }\n */\nfunction resolveHeaders (page) {\n  const headers = groupHeaders(page.headers || [])\n  return [{\n    type: 'group',\n    collapsable: false,\n    title: page.title,\n    children: headers.map(h => ({\n      type: 'auto',\n      title: h.title,\n      basePath: page.path,\n      path: page.path + '#' + h.slug,\n      children: h.children || []\n    }))\n  }]\n}\n\nexport function groupHeaders (headers) {\n  // group h3s under h2\n  headers = headers.map(h => Object.assign({}, h))\n  let lastH2\n  headers.forEach(h => {\n    if (h.level === 2) {\n      lastH2 = h\n    } else if (lastH2) {\n      (lastH2.children || (lastH2.children = [])).push(h)\n    }\n  })\n  return headers.filter(h => h.level === 2)\n}\n\nexport function resolveNavLinkItem (linkItem) {\n  return Object.assign(linkItem, {\n    type: linkItem.items && linkItem.items.length ? 'links' : 'link'\n  })\n}\n\n/**\n * @param { Route } route\n * @param { Array<string|string[]> | Array<SidebarGroup> | [link: string]: SidebarConfig } config\n * @returns { base: string, config: SidebarConfig }\n */\nexport function resolveMatchingConfig (regularPath, config) {\n  if (Array.isArray(config)) {\n    return {\n      base: '/',\n      config: config\n    }\n  }\n  for (const base in config) {\n    if (ensureEndingSlash(regularPath).indexOf(base) === 0) {\n      return {\n        base,\n        config: config[base]\n      }\n    }\n  }\n  return {}\n}\n\nfunction ensureEndingSlash (path) {\n  return /(\\.html|\\/)$/.test(path)\n    ? path\n    : path + '/'\n}\n\nfunction resolveItem (item, pages, base, isNested) {\n  if (typeof item === 'string') {\n    return resolvePage(pages, item, base)\n  } else if (Array.isArray(item)) {\n    return Object.assign(resolvePage(pages, item[0], base), {\n      title: item[1]\n    })\n  } else {\n    if (isNested) {\n      console.error(\n        '[vuepress] Nested sidebar groups are not supported. ' +\n        'Consider using navbar + categories instead.'\n      )\n    }\n    const children = item.children || []\n    return {\n      type: 'group',\n      title: item.title,\n      children: children.map(child => resolveItem(child, pages, base, true)),\n      collapsable: item.collapsable !== false\n    }\n  }\n}\n"]}]}